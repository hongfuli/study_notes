# 为什么临时表可以重名？

临时表的生命周期是 session。
所以不同的 session 中可以有相同的表名。
但是表数据文件命名为了防止冲突，会加线程信息因子到文件路径中。

文章中提到临时表可以用来分库分表的场景，我觉得这是数据库中间件开发同学值得考虑的一个点，特别是有些 sql 很复杂但是返回数据量又不大时，如果强行做 sql 解析太复杂了，可以直接找个思路直接在临时表做汇总。

临时表在复制时在 binlog 有一些特殊，其实就是为了应对临时的一些特殊设置：

1. session 会话周期。但是复制 sql\_thread 是共享的。所以表名冲突要解决。
1. 同样因为 session 周期，需要显式生成 `drop temporary table` 给备库执行。
