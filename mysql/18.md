# 为什么这些SQL语句逻辑相同，性能却差异巨大？

本章说了三个简单 sql 语句但是没有走索引的查询场景，本质都是因为对字段进行了函数操作导致的。

除了我们显示调用函数外，谨防隐式函数被调用，比如字符串转数字操作。
比如订单号（order\_no）定义是 varchar 类型，虽然都是数字字符，但是我们在写这样的 sql：

```sql
select * from order where order_no = 123;
```

因为 mysql 中如果字符串和数字比较时，会字符串转数字，所以会调用 `CONVERT(order_no, INTEGER)`。

个人觉得不管数字转字符还是反过来，不用记住这规则然后想着怎么避免，在业务开发规范中就明确 sql 参数必须和 DDL 中的数据类型一致，把坑口堵死。

还提到一个多表 join 查询导致的问题之前没有碰到过，因为外键字段的 chararctor 编码集不一致导致隐式编码转换。这个知识点可以为后面碰到问题了提供一种思路。
