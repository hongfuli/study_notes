# 都说InnoDB好，那还要不要使用Memory引擎？

内存引擎表的索引（包括主键）都是索引和数据分离，索引部分使用 hash 结构。所以优点是：单值查询更快；缺点：不支持范围查询，而且如果数据部分位置变化，则所有索引指针都要更新。

内存索引只有表级锁，所以对并发度支持也比较差。

内存表在数据库重启后会删除，这在正常单实例情况下没有问题。但是如果在有 HA 架构下，因为内存在数据库重启时会在 binlog 里写入一个 delete from 删除所有数据，如果在备库重启后把这个语句传到主库，那么正常连接主库的连接会莫名发现数据丢失了。
